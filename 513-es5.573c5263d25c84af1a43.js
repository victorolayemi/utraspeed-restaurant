!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(self.webpackChunkprimer=self.webpackChunkprimer||[]).push([[513],{37970:function(n,a,o){o.r(a),o.d(a,{FoodMenuModule:function(){return q}});var r=o(38583),l=o(49983),i=o(38550),m=o(12630),c=o(91841),u=o(92340),p=o(37716),s=o(49344),d=o(98295),f=o(35618),g=o(51095),h=o(76627);function x(e,t){1&e&&(p.\u0275\u0275elementStart(0,"strong"),p.\u0275\u0275text(1,"Image"),p.\u0275\u0275elementEnd())}function v(e,t){1&e&&p.\u0275\u0275element(0,"img",15),2&e&&p.\u0275\u0275property("src",t.value,p.\u0275\u0275sanitizeUrl)}function b(e,t){1&e&&(p.\u0275\u0275elementStart(0,"strong"),p.\u0275\u0275text(1,"Item Name"),p.\u0275\u0275elementEnd())}function y(e,t){1&e&&p.\u0275\u0275text(0),2&e&&p.\u0275\u0275textInterpolate1(" ",t.value," ")}function w(e,t){1&e&&(p.\u0275\u0275elementStart(0,"strong"),p.\u0275\u0275text(1,"Price"),p.\u0275\u0275elementEnd())}function S(e,t){1&e&&p.\u0275\u0275text(0),2&e&&p.\u0275\u0275textInterpolate1(" ",t.value," ")}function E(e,t){1&e&&(p.\u0275\u0275elementStart(0,"strong"),p.\u0275\u0275text(1,"Offer Amount"),p.\u0275\u0275elementEnd())}function k(e,t){1&e&&p.\u0275\u0275text(0),2&e&&p.\u0275\u0275textInterpolate1(" ",t.value," ")}function I(e,t){1&e&&(p.\u0275\u0275elementStart(0,"strong"),p.\u0275\u0275text(1,"In Stock"),p.\u0275\u0275elementEnd())}function C(e,t){1&e&&p.\u0275\u0275text(0),2&e&&p.\u0275\u0275textInterpolate1(" ",t.value," ")}var L=function(e){return["/edit-food-menu",e]};function M(e,t){1&e&&(p.\u0275\u0275elementStart(0,"button",16),p.\u0275\u0275elementStart(1,"mat-icon",4),p.\u0275\u0275text(2,"edit"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&p.\u0275\u0275property("routerLink",p.\u0275\u0275pureFunction1(1,L,t.value))}function j(e,t){if(1&e){var n=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"button",17),p.\u0275\u0275listener("click",function(){var e=p.\u0275\u0275restoreView(n).row;return p.\u0275\u0275nextContext().deleteItem(e)}),p.\u0275\u0275elementStart(1,"mat-icon",4),p.\u0275\u0275text(2,"delete"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()}}var N,F=function(){return["/add-food-menu"]},H=[{path:"",component:(N=function(){function n(t,a,o){e(this,n),this.toastr=t,this.http=a,this.router=o,this.rows=[],this.temp=[],this.ColumnMode=i.hq,this.isLoading=!1,this.total=0,this.p=1}var a,o,r;return a=n,(o=[{key:"ngOnInit",value:function(){this.getCategory({offset:0}),this.baseUrl=u.N.baseUrl,console.log(this.baseUrl)}},{key:"fetch",value:function(e){var t=new XMLHttpRequest;t.open("GET","assets/data/company.json"),t.onload=function(){e(JSON.parse(t.response))},t.send()}},{key:"updateFilter",value:function(e){var t=e.target.value.toLowerCase(),n=this.temp.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)||!t});this.rows=n}},{key:"getCategory",value:function(e){var t=this;this.isLoading=!0,console.log(e.offset+1),this.p=e.offset;var n=e.offset+1,a=localStorage.getItem("token"),o=JSON.parse(localStorage.getItem("currentUser")),r=new c.WM({Authorization:"Bearer "+a,Accept:"application/json","Content-Type":"application/json"});this.http.get("".concat(u.N.apiUrl,"stores/menu-item?store=").concat(o.id,"&page=").concat(n),{headers:r}).subscribe(function(e){t.rows=e.data,t.total=e.total,console.log(e),t.isLoading=!1},function(e){t.toastr.error(e)})}},{key:"deleteItem",value:function(e){var t=this;this.isLoading=!0;var n=localStorage.getItem("token"),a=new c.WM({Authorization:"Bearer "+n,Accept:"application/json","Content-Type":"application/json"});this.http.delete("".concat(u.N.apiUrl,"stores/menu-item/").concat(e.id),{headers:a}).subscribe(function(e){t.toastr.success("Successfully","Deleted"),t.getCategory({offset:t.p}),t.isLoading=!1},function(e){t.toastr.error(e)})}}])&&t(a.prototype,o),r&&t(a,r),n}(),N.\u0275fac=function(e){return new(e||N)(p.\u0275\u0275directiveInject(s._W),p.\u0275\u0275directiveInject(c.eN),p.\u0275\u0275directiveInject(m.F0))},N.\u0275cmp=p.\u0275\u0275defineComponent({type:N,selectors:[["app-food-menu"]],decls:27,vars:11,consts:[[1,"mb-1",2,"width","100%"],["matInput","","placeholder","Type to filter the name column...","required","",3,"keyup"],["fxLayout","row",2,"padding","20px 10px 20px 8px","right","0"],["fxLayoutAlign","end center","mat-raised-button","","color","primary",3,"routerLink"],["aria-label","add category"],["rowHeight","auto",1,"material",3,"rows","columnMode","headerHeight","footerHeight","loadingIndicator","externalPaging","count","offset","limit","page"],["prop","item_images"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","item_name"],["prop","item_price"],["prop","offer_amount"],["prop","is_available"],["prop","id"],["name",""],["width","30px","height","30px",3,"src"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","",2,"color","red",3,"click"]],template:function(e,t){1&e&&(p.\u0275\u0275elementStart(0,"mat-form-field",0),p.\u0275\u0275elementStart(1,"input",1),p.\u0275\u0275listener("keyup",function(e){return t.updateFilter(e)}),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(2,"div",2),p.\u0275\u0275elementStart(3,"button",3),p.\u0275\u0275elementStart(4,"mat-icon",4),p.\u0275\u0275text(5,"add"),p.\u0275\u0275elementEnd(),p.\u0275\u0275text(6," Add New Menu Item"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(7,"ngx-datatable",5),p.\u0275\u0275listener("page",function(e){return t.getCategory(e)}),p.\u0275\u0275elementStart(8,"ngx-datatable-column",6),p.\u0275\u0275template(9,x,2,0,"ng-template",7),p.\u0275\u0275template(10,v,1,1,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"ngx-datatable-column",9),p.\u0275\u0275template(12,b,2,0,"ng-template",7),p.\u0275\u0275template(13,y,1,1,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(14,"ngx-datatable-column",10),p.\u0275\u0275template(15,w,2,0,"ng-template",7),p.\u0275\u0275template(16,S,1,1,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(17,"ngx-datatable-column",11),p.\u0275\u0275template(18,E,2,0,"ng-template",7),p.\u0275\u0275template(19,k,1,1,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(20,"ngx-datatable-column",12),p.\u0275\u0275template(21,I,2,0,"ng-template",7),p.\u0275\u0275template(22,C,1,1,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"ngx-datatable-column",13),p.\u0275\u0275template(24,M,3,3,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(25,"ngx-datatable-column",14),p.\u0275\u0275template(26,j,3,0,"ng-template",8),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e&&(p.\u0275\u0275advance(3),p.\u0275\u0275property("routerLink",p.\u0275\u0275pureFunction0(10,F)),p.\u0275\u0275advance(4),p.\u0275\u0275property("rows",t.rows)("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("loadingIndicator",t.isLoading)("externalPaging",!0)("count",t.total)("offset",t.p)("limit",15))},directives:[d.KE,l.Nt,f.xw,g.lW,f.Wh,m.rH,h.Hw,i.nE,i.UC,i.tk,i.vq],styles:[""]}),N)},{path:"add",component:o(50243).mw}],U=o(15566),A=o(93738),O=o(77746),T=o(33935),W=o(12178),_=o(3679),z=o(82613),P=o(12522),q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=p.\u0275\u0275defineInjector({imports:[[r.ez,m.Bz.forChild(H),l.c,i.xD,h.Ps,A.QW,g.ot,O.ie,W.Cv,T.Tx,z.Fk,P.g0,U.o9,_.FormsModule,_.ReactiveFormsModule]]}),t}()}}])}();